"use strict";(self.webpackChunktutor_finder_app=self.webpackChunktutor_finder_app||[]).push([[886],{9886:(C,m,u)=>{u.r(m),u.d(m,{HomeModule:()=>v});var c=u(8583),d=u(630),r=u(665),l=u(8049),e=u(639),g=u(2129);const h=["enteredCity"];function Z(o,i){if(1&o&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.description)}}function p(o,i){if(1&o&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}const f=function(){return["/schedule"]},b=function(o,i,t){return{id:o,grade:i,subject:t}};function T(o,i){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"a",22),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(2),e.Q6J("routerLink",e.DdM(7,f))("queryParams",e.kEZ(8,b,t.user_id,t.grade,t.subject_name)),e.xp6(1),e.Oqu(t.first_name),e.xp6(2),e.Oqu(t.last_name),e.xp6(2),e.Oqu(t.grade),e.xp6(2),e.Oqu(t.subject_name),e.xp6(2),e.Oqu(t.phone)}}function _(o,i){if(1&o&&(e.TgZ(0,"div",19),e.TgZ(1,"h1"),e._uU(2,"SEARCH RESULTS"),e.qZA(),e.TgZ(3,"table",20),e.TgZ(4,"thead"),e.TgZ(5,"tr"),e.TgZ(6,"th"),e._uU(7,"First Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Last Name"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Grade"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Subject"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Contact Number"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"tbody"),e.YNc(17,T,12,12,"tr",21),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(17),e.Q6J("ngForOf",t.searchResults)}}const q=[{path:"",component:(()=>{class o{constructor(t,s,n,a){this.fb=t,this.route=s,this.router=n,this.dashboardService=a,this.loading=!1,this.submitted=!1,this.returnUrl="/login",this.error="",this.hideSubjects=!0,this.hideResults=!0,this.gradeSubjectList=[],this.gradeList=[],this.subjectList=[],this.enteredCity="",this.searchResults=[],this.roleList=[{id:1,name:"student"},{id:2,name:"facilitator"}],this.dashboardFormData=this.fb.group({city:["",r.kI.required],grade:["",r.kI.required],subject:["",r.kI.required]}),this.selectedGrade="",this.selectedSubject="",this.enteredCityElement=this.enteredCityElement}ngOnInit(){this.dashboardService.getGrades().pipe((0,l.P)()).subscribe(t=>{this.gradeList=t},t=>{this.error=t}),this.dashboardService.getSubjects().pipe((0,l.P)()).subscribe(t=>{this.subjectList=t,console.log("get subjects",t)},t=>{this.error=t})}get f(){return this.dashboardFormData.controls}selectGrade(t){this.selectedGrade=t.target.value,this.hideSubjects=!1}selectSubject(t,s){this.selectedGrade=t.target.value+"-"+s,this.selectedSubject=t.target.value,this.gradeSubjectList.push(this.selectedGrade),this.hideSubjects=!1}onSubmit(){var t;this.submitted=!0,this.loading=!0,this.enteredCity=null===(t=this.enteredCityElement)||void 0===t?void 0:t.nativeElement.value,this.dashboardService.getTutors(this.f.grade.value.grade,this.f.subject.value.name,this.f.city.value).pipe((0,l.P)()).subscribe(a=>{this.searchResults=a,this.loading=!1},a=>{this.error=a,this.loading=!1}),this.loading=!1,this.hideResults=!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(d.gz),e.Y36(d.F0),e.Y36(g.n))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],viewQuery:function(t,s){if(1&t&&e.Gf(h,7),2&t){let n;e.iGM(n=e.CRH())&&(s.enteredCityElement=n.first)}},decls:35,vars:6,consts:[[1,"col-md-6","offset-md-3","mt-5"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-6"],["for","role"],[1,"required-asterisk"],["formControlName","grade",1,"form-control",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","subject",1,"form-control",3,"disabled","change"],[1,"form-group"],["for","city"],["type","text","formControlName","city",1,"form-control"],["enteredCity",""],[1,"btn","btn-primary",3,"disabled","click"],["class","container",4,"ngIf"],[3,"ngValue"],[1,"container"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["fragment","education",3,"routerLink","queryParams"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3,"Tutor Finder Dashboard"),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"form",4),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"label",7),e._uU(9,"Grades "),e.TgZ(10,"span",8),e._uU(11,"*"),e.qZA(),e.qZA(),e.TgZ(12,"select",9),e.NdJ("change",function(a){return s.selectGrade(a)}),e.TgZ(13,"option"),e._uU(14,"Choose Grades"),e.qZA(),e.YNc(15,Z,2,2,"option",10),e.qZA(),e.qZA(),e.TgZ(16,"div",6),e.TgZ(17,"label",7),e._uU(18,"Subjects "),e.TgZ(19,"span",8),e._uU(20,"*"),e.qZA(),e.qZA(),e.TgZ(21,"select",11),e.NdJ("change",function(a){return s.selectSubject(a,s.selectedGrade)}),e.TgZ(22,"option"),e._uU(23,"Choose Subjects"),e.qZA(),e.YNc(24,p,2,2,"option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",12),e.TgZ(26,"label",13),e._uU(27,"City"),e.TgZ(28,"span",8),e._uU(29,"*"),e.qZA(),e.qZA(),e._UZ(30,"input",14,15),e.qZA(),e.TgZ(32,"button",16),e.NdJ("click",function(){return s.onSubmit()}),e._uU(33," Search "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(34,_,18,1,"div",17)),2&t&&(e.xp6(5),e.Q6J("formGroup",s.dashboardFormData),e.xp6(10),e.Q6J("ngForOf",s.gradeList),e.xp6(6),e.Q6J("disabled",s.hideSubjects),e.xp6(3),e.Q6J("ngForOf",s.subjectList),e.xp6(8),e.Q6J("disabled",s.loading),e.xp6(2),e.Q6J("ngIf",!s.hideResults))},directives:[r._Y,r.JL,r.sg,r.EJ,r.JJ,r.u,r.YN,r.Kr,c.sg,r.Fj,c.O5,d.yS],styles:[""]}),o})()}];let A=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.Bz.forChild(q)],d.Bz]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,A,r.UX]]}),o})()}}]);